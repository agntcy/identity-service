# SonarQube configuration for Pyramid Platform
# Copyright 2025 Copyright AGNTCY Contributors (https://github.com/agntcy)
# SPDX-License-Identifier: Apache-2.0

# Project identification
sonar.projectKey=IoA-Identity
sonar.projectName=Pyramid Platform
sonar.projectVersion=1.0

# Source code configuration
sonar.sources=backend,frontend/src,sdk/python,docs/src
sonar.tests=backend,frontend/src,sdk/python

# Language-specific configurations
# Go configuration
sonar.go.coverage.reportPaths=backend/coverage.out
sonar.exclusions=backend/vendor/**,backend/**/*_test.go,backend/**/mock_*.go,backend/**/*.pb.go,backend/**/*.proto

# TypeScript/JavaScript configuration  
sonar.typescript.lcov.reportPaths=frontend/coverage/lcov.info
sonar.javascript.lcov.reportPaths=frontend/coverage/lcov.info

# Python configuration
sonar.python.coverage.reportPaths=sdk/python/coverage.xml

# Test configurations
sonar.test.inclusions=**/*_test.go,**/test/**,**/*.test.ts,**/*.test.tsx,**/*.spec.ts,**/*.spec.tsx,**/test_*.py,**/*_test.py

# Exclusions - files to exclude from analysis
sonar.exclusions=**/node_modules/**,\
    **/vendor/**,\
    **/build/**,\
    **/dist/**,\
    **/*.pb.go,\
    **/*.proto,\
    **/generated/**,\
    **/*.gen.go,\
    **/mock_*.go,\
    charts/**,\
    deployments/**,\
    scripts/**,\
    img/**,\
    **/*.md,\
    **/.git/**,\
    **/.github/**,\
    **/*.yaml,\
    **/*.yml,\
    **/*.json,\
    frontend/public/**,\
    docs/build/**,\
    docs/node_modules/**,\
    sdk/python/build/**,\
    sdk/python/dist/**,\
    sdk/python/*.egg-info/**,\
    samples/**

# Coverage exclusions - files to exclude from coverage analysis
sonar.coverage.exclusions=**/*_test.go,\
    **/mock_*.go,\
    **/*.pb.go,\
    **/*.test.ts,\
    **/*.test.tsx,\
    **/*.spec.ts,\
    **/*.spec.tsx,\
    **/test_*.py,\
    **/*_test.py,\
    frontend/src/vite-env.d.ts,\
    frontend/src/main.tsx

# Duplication exclusions
sonar.cpd.exclusions=**/*.pb.go,\
    **/generated/**,\
    **/*.proto

# Encoding
sonar.sourceEncoding=UTF-8

# Java configuration
sonar.java.jdkHome=${JAVA_HOME}
sonar.scanner.jvmArgs=-Djava.home=${JAVA_HOME}

# Analysis parameters
sonar.qualitygate.wait=true

# Additional project information
sonar.links.homepage=https://github.com/agntcy/pyramid-platform
sonar.links.ci=https://github.com/agntcy/pyramid-platform/actions
sonar.links.scm=https://github.com/agntcy/pyramid-platform
sonar.links.issue=https://github.com/agntcy/pyramid-platform/issues

# Language distribution (optional - helps with project insights)
# Detected languages: Go, TypeScript, JavaScript, Python, YAML, JSON, Markdown
